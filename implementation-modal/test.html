<style>
  #limelight_player_500000 {
    margin-bottom: -6px;
  }

  .modal .vjs-fullscreen-control {
    display: none;
  }

  .ms-tutorial-modal .modal-backdrop {
    display: block;
    z-index: 1;
  }

  .modal-introduction {
    z-index: 1100;
  }

  .modal-introduction .modal-header {
    background-color: #368ee6;
    padding-top: 20px;
    padding-bottom: 20px;
    border-bottom: 0;
  }

  .modal-introduction .modal-header h4 {
    color: #fff;
    margin-bottom: 10px;
    padding-right: 30px;
  }

  .modal-introduction .modal-header h6 {
    color: #fff;
    font-family: 'proxima_nova_rgregular';
    font-size: 22px;
    line-height: 24px;
    margin-bottom: 0;
  }

  .modal-introduction .modal-header a {
    color: #fff;
    text-decoration: underline;
    font-size: 22px;
    line-height: 24px;
  }

  .modal-introduction .modal-header a:hover {
    color: rgba(255, 255, 255, 0.8);
  }

  .modal-introduction .modal-header a i {
    text-decoration: none;
    margin-right: 5px;
    position: relative;
    top: 3px;
  }

  .modal-introduction .modal-footer {
    background-color: #fff;
  }

  .modal-introduction .modal-footer .col-sm-10 {
    padding-right: 0px;
  }

  .modal-introduction .modal-footer .footer-copy {
    margin-bottom: 5px;
  }

  .modal-introduction .modal-footer strong {
    font-size: 18px;
  }

  .modal-introduction .modal-footer p {
    font-size: 16px;
  }

  .modal-introduction .modal-footer ul {
    margin-bottom: 0px;
  }

  .modal-introduction .modal-footer ul li {
    font-size: 14px;
  }

  .modal-introduction .modal-footer ul li a {
    font-family: "proxima_nova_rgbold";
  }

  .modal-introduction .modal-footer ul .glyphicon {
    margin-right: 1px;
  }

  .modal-introduction .modal-footer .modal-link {
    font-size: 14.5px;
    margin-right: 5px;
  }

  .modal-introduction .modal-footer ul li.introduction-middle-school a {
    color: #444;
  }

  .modal-introduction .modal-footer ul li.introduction-teach a {
    color: #2c8ffe;
  }

  .modal-introduction .modal-footer ul li.introduction-extend a {
    color: #00aea2;
  }

  .modal-introduction .modal-footer ul li.introduction-professional-development a {
    color: #875ce7;
  }

  .modal-introduction .modal-footer ul li.introduction-principal-toolkit a {
    color: #f17444;
  }

  .modal-introduction .screen-capture-gif {
    height: 75px;
  }
</style>

<!-- program overview introduction modal -->
<div class="ms modal fade ms-modal ms-tutorial-modal in modal-introduction" id="program-overview-introduction-tutorial-modal" tabindex="-1">
  <div class="ms modal-backdrop" data-dismiss="modal"></div>
  <div class="ms-modal-container col-xs-12">
    <div class="modal-header">
      <h4>Hello and Welcome to the <em>Second Step</em> Middle School Program!</h4>
      <h6>To learn your way around, check out these program tutorials.</h6>
    </div>
    <a href="#" class="close pull-right hidden-print" data-dismiss="modal">
      <i class="glyphicon glyphicon-remove"></i>
    </a>
    <div id="limelight_player_500000"></div>
    <div class="modal-footer">
      <div class="row text-left">
        <div class="col-sm-12">
          <p class="footer-copy"><strong>Want more guidance? These tutorials show you exactly what you can find in each section.</strong><br/> Watch them now or whenever you need them&mdash;tutorials can always be found in the navigation bar.
          </p>
          <div class="row col-sm-12 text-left">
            <ul class="list-inline list-unstyled">
              <li class="introduction-middle-school">
                <a href="#" onclick="CFCLimelightPlayer('c9dbf74c93c24dae9003524133edfa24', true, '117b74ac8ed44296a11859a98b40d6ad', '100%', 'limelight_player_500000', 480)" class="modal-link" data-metric-subcategory="overview">
                  <i class="glyphicon glyphicon-play-circle"></i>
                  PROGRAM OVERVIEW
                </a>
              </li>
              <li class="introduction-teach">
                <a href="#" onclick="CFCLimelightPlayer('c9dbf74c93c24dae9003524133edfa24', true, '9320e77dbfc04abdb05d84761c602390', '100%', 'limelight_player_500000', 480)" class="modal-link" data-metric-subcategory="teach">
                  <i class="glyphicon glyphicon-play-circle"></i>
                  TEACH
                </a>
              </li>
              <li class="introduction-extend">
                <a href="#" onclick="CFCLimelightPlayer('c9dbf74c93c24dae9003524133edfa24', true, 'c534f2288e3442ceac144f28bab3e493', '100%', 'limelight_player_500000', 480)" class="modal-link" data-metric-subcategory="extend">
                  <i class="glyphicon glyphicon-play-circle"></i>
                  EXTEND
                </a>
              </li>
              <li class="introduction-professional-development">
                <a href="#" onclick="CFCLimelightPlayer('c9dbf74c93c24dae9003524133edfa24', true, '6b14e60eef624cdb905839bb36442e79', '100%', 'limelight_player_500000', 480)" class="modal-link" data-metric-subcategory="prof_dev">
                  <i class="glyphicon glyphicon-play-circle"></i>
                  PROFESSIONAL DEVELOPMENT
                </a>
              </li>
              <li class="introduction-principal-toolkit">
                <a href="#" onclick="CFCLimelightPlayer('c9dbf74c93c24dae9003524133edfa24', true, 'bfdf9818d7574eebb72d0826034307f8', '100%', 'limelight_player_500000', 480)" class="modal-link" data-metric-subcategory="principal_toolkit">
                  <i class="glyphicon glyphicon-play-circle"></i>
                  PRINCIPAL TOOLKIT
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  $(document).ready(function() {
    var metricsType = 'ui_interaction';
    var metricsCat = 'new_user_modal';

    var firstTimeUserExperience, implementationData;

    function getFtueData() {
      $.ajax({
        type: 'GET',
        url: '/DesktopModules/UserStore/API/Personalization/Get?key=ftueData',
        cache: false
      }).fail(function(x) {
        setPersonalizationData('ftueData', {
          'middle-school': false,
          'teach': false,
          'extend': false,
          'professional-development': false,
          'principal-toolkit': false
        });
        getFtueData();
        console.error(x)
      }).done(function(data) {
        try {
          var json = JSON.parse(data);
          firstTimeUserExperience = json;
          manageFtueData();
        } catch (ex) {}
      });
    }

    function setPersonalizationData(key, newData) {
      $.ajax({
        type: 'POST',
        url: '/DesktopModules/UserStore/API/Personalization/Set',
        dataType: 'json',
        cache: false,
        contentType: 'application/json; charset=utf-8',
        data: JSON.stringify({
          key: key,
          value: JSON.stringify(newData)
        })
      }).fail(function(x) {
        console.error(x.responseText);
      });
    }


    var page = getPage();
    if (page == null) page = ['middle-school'];
    page = page[0];
    getFtueData();

    function manageFtueData() {
      if (firstTimeUserExperience == undefined || firstTimeUserExperience == null) {
        firstTimeUserExperience[page] = false;
      }
      if (firstTimeUserExperience[page] == false) {
        // if (localStorage.getItem(page + '-introduction') == null) {
        if (page == 'middle-school') {
          var videoId = '117b74ac8ed44296a11859a98b40d6ad';
        } else {
          var videoId = $('.modal-introduction .modal-footer .introduction-' + page + ' a').attr('onclick').split("true, '")[1].split("'")[0];
        }

        var $initLink = $('#program-overview-introduction-tutorial-modal a[onclick*=' + videoId + ']').eq(0)
        var curMetricsSubcat = $initLink.attr('data-metric-subcategory');

        setTimeout(function() {
          CFCLimelightPlayer('c9dbf74c93c24dae9003524133edfa24', true, videoId, '100%', 'limelight_player_500000', 480);
          $('#program-overview-introduction-tutorial-modal').modal('toggle');
          $('.modal.fade.in').on('hide.bs.modal', function() {
            firstTimeUserExperience[page] = true;
            setPersonalizationData('ftueData', firstTimeUserExperience);
            // localStorage.setItem(page + '-introduction', 'visited');
          });
        }, 500);
        $('.modal-introduction').on('show.bs.modal', function() {
          window.__CFCMETRICS__ && window.__CFCMETRICS__.send('user_page_view', {
            category: metricsCat,
            subcategory: $initLink.attr('data-metric-subcategory'),
            page: 'new_user_' + $initLink.attr('data-metric-subcategory') + '_modal'
          });

          setTimeout(function() {
            $('.modal-backdrop').css({
              'display': 'none'
            });
            $('.ms-tutorial-modal .modal-backdrop').css({
              'display': 'block'
            });
          }, 250)
        });

        $('.modal-introduction').on('hide.bs.modal', function() {
          window.__CFCMETRICS__ && window.__CFCMETRICS__.send(metricsType, {
            category: metricsCat,
            subcategory: 'new_user_modal',
            ui_element: 'close',
            action: 'click'
          });
        });
      }
    }

    getImplementationData(){
      $.ajaz({
        type: 'GET',
        url: '/DesktopModules/UserStore/API/Personalization/Get?key=implementationData',
        cache: false
      }).fail(function(x){
        console.error(x);
      }).done(function(data){
        try{
          var json = JSON.parse(data);
          implementationData = json;

        } catch(ex){}
      });
    }


    $('#program-overview-introduction-tutorial-modal').on('click', 'a[data-metric-subcategory]', function() {
      curMetricsSubcat = $(this).attr('data-metric-subcategory');
      window.__CFCMETRICS__ && window.__CFCMETRICS__.send(metricsType, {
        category: metricsCat,
        subcategory: curMetricsSubcat,
        ui_element: 'link',
        action: 'click'
      });
    });
    $('#program-overview-introduction-tutorial-modal').on('click', 'button.vjs-limelight-big-play', function() {
      window.__CFCMETRICS__ && window.__CFCMETRICS__.send(metricsType, {
        category: metricsCat,
        subcategory: curMetricsSubcat,
        ui_element: 'play_button',
        action: 'click'
      });
    });
  });
</script>



{\"category\":\"program_training\",\"subcategory\":\"landing\",\"page\":\"landing\"}"}
